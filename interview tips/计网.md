# 基础篇
## 1. 键入网址到网页显示，期间发生了什么？
- 浏览器做的第一步工作是解析 URL。进行解析之后，浏览器确定了 Web 服务器和文件名，接下来就是根据这些信息来生成 HTTP 请求消息
- 查询服务器域名对应的 IP 地址
- 通过 DNS 获取到 IP 后，就可以把 HTTP 的传输工作交给操作系统中的**协议栈**
- [n] 协议栈的上半部分有两块，分别是负责收发数据的 TCP 和 UDP 协议;下面一半是用 IP 协议控制网络包收发操作,此外 IP 中还包括 `ICMP` 协议和 `ARP` 协议: `ICMP` 用于告知网络包传送过程中产生的错误以及各种控制信息。`ARP` 用于根据 IP 地址查询相应的以太网 MAC 地址。
- TCP三次握手、TLS/SSL握手
- 发送 HTTP 请求到服务器，服务器处理请求并生成 HTTP 响应
- 浏览器接收 HTTP 响应并处理
- 四次挥手
## 2.发送网络数据的时候，涉及几次内存拷贝操作
- 第一次，调用发送数据的系统调用的时候，内核会申请一个内核态的 sk_buff 内存，将用户待发送的数据拷贝到 sk_buff 内存，并将其加入到发送缓冲区。
- 第二次，在使用 TCP 传输协议的情况下，从传输层进入网络层的时候，每一个 sk_buff 都会被克隆一个新的副本出来。副本 sk_buff 会被送往网络层，等它发送完的时候就会释放掉，然后原始的 sk_buff 还保留在传输层，目的是为了实现 TCP 的可靠传输，等收到这个数据包的 ACK 时，才会释放原始的 sk_buff 。
- 第三次，当 IP 层发现 sk_buff 大于 MTU 时才需要进行。会再申请额外的 sk_buff，并将原来的 sk_buff 拷贝为多个小的 sk_buff。

# HTTP篇
## 1.HTTP状态码
| 状态码类别 | 类别描述   | 具体状态码                     | 状态码说明                        |
| ----- | ------ | ------------------------- | ---------------------------- |
| 1XX   | 提示信息类  |                           | 协议处理中的中间状态，实际使用较少。           |
| 2XX   | 成功类    | 200 OK                    | 请求成功，服务器返回 body（若非 HEAD 请求）。 |
|       |        | 204 No Content            | 请求成功但无 body 数据。              |
|       |        | 206 Partial Content       | 表示部分内容成功返回，常用于分块下载或断点续传。     |
| 3XX   | 重定向类   | 301 Moved Permanently     | 请求资源已被永久移动，需使用新 URL。         |
|       |        | 302 Found                 | 请求资源暂时移动，需用另一个 URL 访问。       |
|       |        | 304 Not Modified          | 资源未修改，可继续使用客户端缓存资源。          |
| 4XX   | 客户端错误类 | 400 Bad Request           | 请求报文有误，但错误不明确。               |
|       |        | 403 Forbidden             | 服务器禁止访问资源，不是客户端错误。           |
|       |        | 404 Not Found             | 请求资源不存在或未找到。                 |
| 5XX   | 服务端错误类 | 500 Internal Server Error | 泛型错误码，服务器出错原因不明。             |
|       |        | 501 Not Implemented       | 请求功能未支持，类似“敬请期待”。            |
|       |        | 502 Bad Gateway           | 网关或代理服务器访问后端出错。              |
|       |        | 503 Service Unavailable   | 服务器当前繁忙，暂时无法响应。              |
## 2. HTTP常用字段
| 字段名称                        | 类型    | 说明                                                |
| --------------------------- | ----- | ------------------------------------------------- |
| Host                        | 通用字段  | 指定请求的目标主机（域名 + 端口），用于虚拟主机识别。                      |
| User-Agent                  | 请求头字段 | 表示客户端的信息（浏览器、操作系统等）。                              |
| Accept                      | 请求头字段 | 指定客户端可接收的响应内容类型，如 `text/html`、`application/json`。 |
| Accept-Encoding             | 请求头字段 | 指定客户端支持的压缩算法（如 gzip、br、deflate）。                  |
| Accept-Language             | 请求头字段 | 指定客户端支持的语言类型（如 `zh-CN`、`en-US`）。                  |
| Content-Type                | 通用字段  | 指定请求或响应体中的数据类型，如 `application/json`。              |
| Content-Length              | 通用字段  | 指定请求或响应体的长度（单位：字节）。                               |
| Connection                  | 通用字段  | 控制连接管理，如 `keep-alive` 表示持久连接。                     |
| Cache-Control               | 通用字段  | 控制缓存行为，如 `no-cache`、`max-age`。                    |
| Authorization               | 请求头字段 | 提供身份认证信息（如 `Bearer <token>`）。                     |
| Cookie                      | 请求头字段 | 客户端发送给服务器的 Cookie 信息。                             |
| Set-Cookie                  | 响应头字段 | 服务器向客户端设置 Cookie。                                 |
| Location                    | 响应头字段 | 重定向响应中使用，指定跳转的 URL（常用于 3xx）。                      |
| Referer                     | 请求头字段 | 表示当前请求页面的来源页面 URL。                                |
| Origin                      | 请求头字段 | 指出请求发起的源（协议+域名+端口），用于跨域请求识别。                      |
| Access-Control-Allow-Origin | 响应头字段 | 设置允许跨域请求的源，用于 CORS。                               |
| ETag                        | 响应头字段 | 表示资源的唯一标识，用于缓存控制。                                 |
| If-None-Match               | 请求头字段 | 与 ETag 配合，判断资源是否修改（用于 304 响应）。                    |
| Range                       | 请求头字段 | 请求部分资源内容，用于断点续传。                                  |
| Content-Range               | 响应头字段 | 返回部分资源内容的信息，如 `bytes 200-1000/67589`。             |
| Date                        | 响应头字段 | 当前响应生成的时间（RFC1123 格式）。                            |
| Server                      | 响应头字段 | 表示服务器软件的信息（如 nginx/Apache）。                       |
## 3. GET和POST
| 比较项           | GET 方法                                      | POST 方法                                      |
|------------------|-----------------------------------------------|------------------------------------------------|
| 用途             | 请求资源，获取数据                            | 提交数据，通常用于表单、上传或创建资源        |
| 参数位置         | 放在 URL 中（例如：`/api/user?id=123`）       | 放在请求体中（Body）                           |
| URL 长度限制     | 有长度限制（不同浏览器/服务器一般为 2048 字节）| 几乎无限制，取决于服务器配置                   |
| 可缓存性         | 支持缓存，浏览器可缓存响应结果                | 默认不缓存                                     |
| 安全性           | 参数暴露在 URL 中，不适合传输敏感数据         | 参数在请求体中，稍微安全一些                   |
| 幂等性           | 是幂等的（多次请求结果相同）                  | 非幂等（多次请求可能创建多个资源）             |
| 浏览器回退行为   | 回退时会重新发送请求                          | 回退不会重新提交表单，或提示确认               |
| 可收藏性         | 可直接作为书签保存                            | 不可直接作为书签保存                          |
| 编码类型         | 仅支持 URL 编码（application/x-www-form-urlencoded）| 支持多种编码类型，如 JSON、表单、文件等        |
| 适用场景         | 获取资源，例如查询参数、静态资源              | 提交表单、上传文件、创建或更新数据             |
## 4. HTTP缓存技术
- [i] HTTP缓存有两种实现方式：**强制缓存**、**协商缓存**
# TCP篇
# IP篇
